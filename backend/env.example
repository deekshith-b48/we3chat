# We3Chat Dual Authentication Backend Environment Configuration
# Copy this file to .env and fill in your values

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
PORT=5000
NODE_ENV=development

# =============================================================================
# SUPABASE CONFIGURATION
# =============================================================================
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_ROLE=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...  # service role key (server only!)
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...  # anon key (optional)

# =============================================================================
# JWT CONFIGURATION
# =============================================================================
SIWE_JWT_SECRET=your-super-long-random-string-at-least-32-characters-change-this-in-production
SIWE_JWT_EXPIRES=7d

# =============================================================================
# CORS CONFIGURATION
# =============================================================================
CORS_ORIGIN=http://localhost:3000

# =============================================================================
# BLOCKCHAIN CONFIGURATION
# =============================================================================
BLOCKCHAIN_RPC_URL=https://rpc-amoy.polygon.technology
BLOCKCHAIN_WS_URL=wss://rpc-amoy.polygon.technology
CHAT_CONTRACT_ADDRESS=0x1234567890123456789012345678901234567890
CHAIN_ID=80002

# =============================================================================
# IPFS CONFIGURATION
# =============================================================================
WEB3STORAGE_TOKEN=your-web3-storage-token

# =============================================================================
# REDIS CONFIGURATION (for job queues)
# =============================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# =============================================================================
# MONGODB CONFIGURATION (if using MongoDB alongside Supabase)
# =============================================================================
MONGODB_URI=mongodb://localhost:27017/we3chat

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
SIWE_DOMAIN=localhost
SIWE_ORIGIN=http://localhost:3000
SIWE_STATEMENT=Sign in with Ethereum to We3Chat

# =============================================================================
# PERFORMANCE CONFIGURATION
# =============================================================================
SYNC_INTERVAL_MINUTES=5
INDEX_INTERVAL_MINUTES=10
MAX_MESSAGES_PER_SYNC=1000

# =============================================================================
# WEBSOCKET CONFIGURATION
# =============================================================================
WS_RECONNECT_INTERVAL=5000
WS_MAX_RECONNECT_ATTEMPTS=10

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
LOG_LEVEL=info
LOG_FORMAT=json

# =============================================================================
# FEATURE FLAGS
# =============================================================================
ENABLE_BLOCKCHAIN_MESSAGING=true
ENABLE_IPFS_STORAGE=true
ENABLE_REAL_TIME_SYNC=true
ENABLE_MESSAGE_SEARCH=true
ENABLE_KEY_ROTATION=true
ENABLE_SIWE_AUTH=true

# =============================================================================
# DEVELOPMENT CONFIGURATION
# =============================================================================
ENABLE_DEBUG_LOGS=false
ENABLE_MOCK_DATA=false
ENABLE_DEV_TOOLS=false

# =============================================================================
# PRODUCTION CONFIGURATION
# =============================================================================
ENABLE_COMPRESSION=true
ENABLE_CACHING=true
CACHE_TTL_SECONDS=3600

# =============================================================================
# RATE LIMITING
# =============================================================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
